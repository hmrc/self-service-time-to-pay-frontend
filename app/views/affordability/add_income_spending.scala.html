@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import partials.{income_list, spending_list}
@import ssttpaffordability.model.IncomeBudgetLine
@import ssttpaffordability.model.Expenses

@this(
  main: views.html.main,
  viewsHelpers: views.ViewsHelpers
)

@(
    income: Seq[IncomeBudgetLine],
    spending: Seq[Expenses]
)(implicit
    messages: play.api.i18n.Messages,
    request: Request[_],
    appConfig: config.AppConfig
)


@main(
    title = messages("ssttp.affordability.income-spending.h1"),
    backButtonUrl = Some(ssttpaffordability.routes.AffordabilityController.getCheckYouCanAfford())) {

    <h1 class="govuk-heading-xl">@messages("ssttp.affordability.income-spending.h1")</h1>

    <div class="govuk-!-padding-left-5">
        <dl class="govuk-summary-list">
            <div class="govuk-summary-list__row @if(income.nonEmpty){no_bottom_line}">
                <dt class="govuk-summary-list__key govuk-!-font-weight-regular govuk-!-width-one-half">
                    <div class="app-task-list__section">
                        <span class="app-task-list__section-number">1.</span>@messages("ssttp.affordability.income-spending.income")
                    </div>
                </dt>
                <dd class="govuk-summary-list__value govuk-!-text-align-right">
                    <a class="govuk-link govuk-body-m" id="monthly-income" href="monthly-income">
                        @(if(income.isEmpty) {
                            messages("ssttp.affordability.income-spending.add-income")
                        } else {
                            messages("ssttp.affordability.income-spending.change-income")
                        })
                    </a>
                </dd>
            </div>
        </dl>
    </div>
    <div class="govuk-!-padding-left-5">
        @if(income.nonEmpty) {
            <div class="govuk-!-padding-left-1">
                @income_list(income)
            </div>
            }
    </div>

    <div class="govuk-!-padding-left-5">
        <dl class="govuk-summary-list">
            <div class="govuk-summary-list__row @if(spending.nonEmpty){no_bottom_line}">
                <dt class="govuk-summary-list__key govuk-!-font-weight-regular govuk-!-width-one-half">
                    <div class="app-task-list__section">
                        <span class="app-task-list__section-number">2.</span>@messages("ssttp.affordability.income-spending.spending")
                    </div>
                </dt>
                <dd class="govuk-summary-list__value govuk-!-text-align-right">
                    <a class="govuk-link govuk-body-m" id="monthly-spending" href="monthly-spending">
                        @(if(spending.isEmpty) {
                            messages("ssttp.affordability.income-spending.add-spending")
                        } else {
                            messages("ssttp.affordability.income-spending.change-spending")
                        })
                    </a>
                </dd>
            </div>
        </dl>
    </div>
    <div class="govuk-!-padding-left-5">
        @if(spending.nonEmpty) {
            <div class="govuk-!-padding-left-1">
                @spending_list(spending)
            </div>
            }
    </div>

}