@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import ssttpcalculator.MonthlySpendingForm
@import uk.gov.hmrc.govukfrontend.views.viewmodels.errorsummary.ErrorSummary
@import uk.gov.hmrc.govukfrontend.views.Implicits._
@import uk.gov.hmrc.govukfrontend.views.Aliases.Text
@import uk.gov.hmrc.govukfrontend.views.Aliases.Input
@import uk.gov.hmrc.govukfrontend.views.viewmodels.label.Label
@import uk.gov.hmrc.govukfrontend.views.Aliases.PrefixOrSuffix
@import views.html.helpers.forms.submit
@import uk.gov.hmrc.govukfrontend.views.Aliases.Hint
@import partials.currency
@import uk.gov.hmrc.govukfrontend.views.viewmodels.errormessage.ErrorMessage.errorMessageWithDefaultStringsTranslated

@this(
        main: views.html.main,
        viewsHelpers: views.ViewsHelpers,
        formWithCsrf: uk.gov.hmrc.govukfrontend.views.html.components.FormWithCSRF,
        input: uk.gov.hmrc.govukfrontend.views.html.components.GovukInput,
        errorSummary: uk.gov.hmrc.govukfrontend.views.html.components.GovukErrorSummary,
        continue: views.html.helpers.forms.ssttpContinue
)

@(
        dataForm: Form[MonthlySpendingForm],
        loggedIn: Boolean = false
)(implicit
        messages: play.api.i18n.Messages,
        request: Request[_],
        appConfig: config.AppConfig
)

@main(
    title = messages("ssttp.affordability.your-monthly-spending.h1"),
    hasErrors = dataForm.hasErrors,
    backButtonUrl = Some(ssttpaffordability.routes.AffordabilityController.getAddIncomeAndSpending())

){
    @if(dataForm.hasErrors){
        @errorSummary(ErrorSummary(
            errorList = dataForm.errors.asTextErrorLinks,
            title = Text(messages("ssttp.affordability.your-monthly-spending.error.title"))
        ))
    }

    <section class="govuk-body">

        <h1 class="govuk-heading-xl">@messages("ssttp.affordability.your-monthly-spending-spending.h1")</h1>

        <p class="govuk-body">@messages("ssttp.affordability.your-monthly-spending.instruction")</p>


        @formWithCsrf(
            action = ssttpaffordability.routes.AffordabilityController.submitMonthlySpending(),
            'id -> "monthlyspending-form"
        ){
            @input(Input(
                id = "housing",
                name = "housing",
                hint = Some(Hint(
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.housing.hint"))
                )),
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.housing")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @input(Input(
                id = "pension-contributions",
                name = "pension-contributions",
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.pension-contributions")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @input(Input(
                id = "council-tax",
                name = "council-tax",
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.council-tax")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @input(Input(
                id = "utilities",
                name = "utilities",
                hint = Some(Hint(
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.utilities.hint"))
                )),
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.utilities")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @input(Input(
                id = "debt-repayments",
                name = "debt-repayments",
                hint = Some(Hint(
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.debt-repayments.hint"))
                )),
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.debt-repayments")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @input(Input(
                id = "travel",
                name = "travel",
                hint = Some(Hint(
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.travel.hint"))
                )),
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.travel")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @input(Input(
                id = "childcare",
                name = "childcare",
                hint = Some(Hint(
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.childcare.hint"))
                )),
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.childcare")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @input(Input(
                id = "insurance",
                name = "insurance",
                hint = Some(Hint(
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.insurance.hint"))
                )),
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.insurance")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @input(Input(
                id = "groceries",
                name = "groceries",
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.groceries")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @input(Input(
                id = "health",
                name = "health",
                hint = Some(Hint(
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.health.hint"))
                )),
                label = Label(
                    forAttr = Some("housing"),
                    content = Text(messages("ssttp.affordability.your-monthly-spending.form.health")),
                    classes = "govuk-label govuk-label--s",
                    isPageHeading = false
                ),
                errorMessage = dataForm.error("amount").map(error => errorMessageWithDefaultStringsTranslated(content = Text(messages(error.message)))),
                prefix = Some(PrefixOrSuffix(
                    content = Text("£")
                )),
                classes = "govuk-input govuk-input--width-5 govuk-!-margin-bottom-4"
            ))

            @continue(messages("ssttp.calculator.form.continue"))
        }

    </section>



}
